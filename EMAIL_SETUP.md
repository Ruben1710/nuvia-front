# Настройка отправки Email

## Проблема: Email не отправляется

Если форма контактов показывает ошибку "Не удалось отправить сообщение", это означает, что SMTP настройки не настроены или неверны.

## Решение: Настройка SMTP для Gmail

### Шаг 1: Создайте файл `.env.local`

В корне проекта создайте файл `.env.local` со следующим содержимым:

```env
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=nuviaPrint@gmail.com
SMTP_PASSWORD=ваш_пароль_приложения_здесь
```

**Важно:** 
- Пароль должен быть **без пробелов** (даже если Google показывает его с пробелами, уберите их)
- Если пароль содержит специальные символы, заключите его в кавычки: `SMTP_PASSWORD="ваш_пароль"`
- Пароль приложения Gmail обычно состоит из 16 символов

### Шаг 2: Создайте пароль приложения для Gmail

1. Перейдите на https://myaccount.google.com/
2. Включите **Двухэтапную аутентификацию** (если еще не включена)
3. Перейдите в раздел **Безопасность** → **Двухэтапная аутентификация**
4. Прокрутите вниз до раздела **Пароли приложений**
5. Выберите **Почта** и устройство, затем нажмите **Создать**
6. Скопируйте 16-значный пароль (без пробелов)
7. Вставьте этот пароль в файл `.env.local` в поле `SMTP_PASSWORD`

### Шаг 3: Перезапустите сервер разработки

После создания файла `.env.local`:

```bash
# Остановите сервер (Ctrl+C)
# Затем запустите снова
npm run dev
```

### Шаг 4: Проверьте работу

1. Откройте форму контактов
2. Заполните все обязательные поля
3. Отправьте форму
4. Проверьте почту nuviaPrint@gmail.com

## Альтернативные варианты

### Вариант 1: Использовать другой SMTP сервис

Если Gmail не работает, можно использовать другие сервисы:

**Mailgun:**
```env
SMTP_HOST=smtp.mailgun.org
SMTP_PORT=587
SMTP_USER=your-mailgun-username
SMTP_PASSWORD=your-mailgun-password
```

**SendGrid:**
```env
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=your-sendgrid-api-key
```

### Вариант 2: Использовать Resend API (рекомендуется для продакшена)

Resend - это современный сервис для отправки email, который проще настроить:

1. Зарегистрируйтесь на https://resend.com
2. Получите API ключ
3. Установите пакет: `npm install resend`
4. Обновите `/app/api/contact/route.ts` для использования Resend API

## Отладка

Если email все еще не отправляется:

1. Проверьте консоль сервера (терминал где запущен `npm run dev`)
2. Ищите сообщения об ошибках, начинающиеся с "Error sending email:"
3. Убедитесь, что файл `.env.local` находится в корне проекта
4. Убедитесь, что после создания `.env.local` вы перезапустили сервер
5. Проверьте, что пароль приложения скопирован правильно (без пробелов)

## Важные замечания

- Файл `.env.local` уже добавлен в `.gitignore`, поэтому он не будет загружен в git
- Никогда не публикуйте пароли приложений в открытом доступе
- Для продакшена используйте переменные окружения на хостинге (Vercel, Netlify и т.д.)

